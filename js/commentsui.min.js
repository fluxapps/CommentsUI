il.CommentsUI=function(a="",b=!1,c=""){this.element=$("#"+a),this.readonly=b,this.async_base_url=c,this.init()},il.CommentsUI.INSTANCES=[],il.CommentsUI.newInstance=function(a="",b=!1,c=""){this.INSTANCES.push(new this(a,b,c))},il.CommentsUI.prototype={constructor:il.CommentsUI,async_base_url:"",element:null,readonly:!1,createComment:function(a,b,c){$.ajax({type:"post",url:this.async_base_url+"&cmd=createComment",data:a,success:b,error:c})},deleteComment:function(a,b,c){$.ajax({type:"delete",url:this.async_base_url+"&cmd=deleteComment&comment_id="+a.id,success:b,error:c})},getComments:function(a,b){$.ajax({type:"get",url:this.async_base_url+"&cmd=getComments",success:a,error:b})},init:function(){this.readonly&&this.element.addClass("readonly"),this.element.comments({enableDeleting:!this.readonly,enableEditing:!this.readonly,forceResponsive:!1,enableAttachments:!1,enableDeletingCommentWithReplies:!1,enableHashtags:!1,enableNavigation:!1,enablePinging:!1,enableReplying:!1,enableUpvoting:!1,postCommentOnEnter:!1,readOnly:this.readonly,getComments:this.getComments.bind(this),postComment:this.createComment.bind(this),putComment:this.updateComment.bind(this),deleteComment:this.deleteComment.bind(this)})},updateComment:function(a,b,c){$.ajax({type:"put",url:this.async_base_url+"&cmd=updateComment&comment_id="+a.id,data:a,success:b,error:c})}};